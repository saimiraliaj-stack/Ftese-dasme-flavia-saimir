<!doctype html>
<html lang="sq">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Dasma Flavia & Saimir</title>
  <meta name="description" content="Dasma Flavia & Saimir — 10 Shtator 2026 — Kompleksi Golden" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;1,400;1,500&family=Inter:wght@300;400;500&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg: #f6f1eb;
      --bg2:#fbf8f4;
      --ink:#222;
      --muted: rgba(34,34,34,.55);
      --line: rgba(34,34,34,.12);
      --card: rgba(255,255,255,.82);
      --cardLine: rgba(34,34,34,.10);
      --shadow: 0 18px 40px rgba(0,0,0,.10);
      --radius: 22px;
      --serif: "Cormorant Garamond", serif;
      --sans: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--ink);
      background: var(--bg);
      overflow-x:hidden;
    }

    /* ===== WHITE FADE TRANSITION OVERLAY ===== */
    .fadeWhite{
      position:fixed;
      inset:0;
      z-index:10000;
      background:#fff;
      opacity:0;
      pointer-events:none;
      transition: opacity 800ms ease;
    }
    .fadeWhite.show{ opacity:1; }

    /* ===== INTRO OVERLAY (envelope video) ===== */
    .intro{
      position:fixed;
      inset:0;
      z-index:9999;
      background:#000;
    }
    .intro video{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      -webkit-user-select:none;
      user-select:none;
      -webkit-touch-callout:none;
      touch-action: manipulation;
    }
    video::-webkit-media-controls{display:none!important;}
    video::-webkit-media-controls-panel{display:none!important;}
    video::-webkit-media-controls-play-button{display:none!important;}
    video::-webkit-media-controls-start-playback-button{display:none!important;}
    video::-webkit-media-controls-overlay-play-button{display:none!important;}

    .tapLayer{
      position:absolute;
      inset:0;
      z-index:2;
      display:grid;
      place-items:center;
      cursor:pointer;
      background:transparent;
    }
    .tapHint{
      position:absolute;
      bottom:26px;
      left:50%;
      transform:translateX(-50%);
      background: rgba(255,255,255,.90);
      color: rgba(0,0,0,.78);
      padding:10px 14px;
      border-radius:999px;
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 24px rgba(0,0,0,.14);
    }

    /* ===== PAGE ===== */
    .page{ display:none; }

    .container{
      width:min(780px, 100%);
      margin: 0 auto;
      padding: 0 18px;
    }

    /* top nav anchor */
    .topNav{
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(246,241,235,.70);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(34,34,34,.06);
    }
    .topNavInner{
      display:flex;
      justify-content:center;
      padding: 14px 0;
    }
    .topLink{
      font-family: var(--sans);
      font-size: 12px;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(34,34,34,.45);
      text-decoration:none;
    }
    .topLink:hover{ opacity:.85; }

    /* ===== HERO ===== */
    .hero{
      background: var(--bg);
      padding: 54px 0 22px 0;
      text-align:center;
      position: relative;
    }

    /* subtle romantic glow */
    .hero::before{
      content:"";
      position:absolute;
      inset:-120px -60px auto -60px;
      height: 260px;
      background: radial-gradient(closest-side, rgba(255,255,255,.75), rgba(255,255,255,0));
      pointer-events:none;
      filter: blur(1px);
      opacity:.9;
    }

    .heroKicker{
      font-size: 12px;
      letter-spacing: .28em;
      text-transform: uppercase;
      color: rgba(34,34,34,.45);
      margin: 0 0 10px 0;
      position: relative;
      z-index: 1;
    }

    .heroTitle{
      font-family: var(--serif);
      font-weight: 500;
      font-style: italic;              /* pjerrtas */
      font-size: clamp(44px, 7vw, 76px);
      line-height: 1.02;
      margin: 0;
      color: rgba(34,34,34,.92);
      position: relative;
      z-index: 1;
      text-rendering: geometricPrecision;
      letter-spacing: .01em;
      text-shadow: 0 10px 26px rgba(0,0,0,.10); /* brilante */
    }

    .heroSub{
      font-family: var(--serif);
      font-style: italic;              /* pjerrtas */
      font-weight: 500;
      font-size: clamp(18px, 2.6vw, 24px);
      color: rgba(34,34,34,.78);
      margin: 10px 0 0 0;
      position: relative;
      z-index: 1;
    }

    .heroDate{
      font-size: 12px;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(34,34,34,.45);
      margin: 14px 0 18px 0;
      position: relative;
      z-index: 1;
    }

    .heroQuote{
      margin: 0 auto 22px auto;
      max-width: 680px;
      font-family: var(--serif);
      font-style: italic;              /* pjerrtas */
      font-size: clamp(18px, 2.8vw, 24px);
      line-height: 1.65;
      color: rgba(34,34,34,.74);
      position: relative;
      z-index: 1;
    }

    /* cake block */
    .cakeFrame{
      width: min(520px, 100%);
      margin: 0 auto;
      border-radius: 28px;
      background: var(--bg2);
      border: 1px solid rgba(34,34,34,.08);
      box-shadow: 0 12px 30px rgba(0,0,0,.08);
      overflow:hidden;
      position: relative;
      z-index: 1;
    }
    .cakeVideo{
      width:100%;
      display:block;
      aspect-ratio: 3 / 4;
      object-fit: cover;
      background:#000;
    }

    .scrollCue{
      margin: 18px auto 0 auto;
      width: 34px;
      height: 34px;
      display:grid;
      place-items:center;
      border-radius: 999px;
      border: 1px solid rgba(34,34,34,.10);
      background: rgba(255,255,255,.35);
      cursor:pointer;
      position: relative;
      z-index: 1;
    }
    .scrollCue svg{ opacity:.55; }

    /* ===== SECTION TITLES ===== */
    .section{
      padding: 56px 0;
    }
    .section.alt{
      background: var(--bg2);
      border-top: 1px solid rgba(34,34,34,.06);
      border-bottom: 1px solid rgba(34,34,34,.06);
    }
    .sectionKicker{
      text-align:center;
      font-size: 12px;
      letter-spacing: .28em;
      text-transform: uppercase;
      color: rgba(34,34,34,.45);
      margin: 0 0 10px 0;
    }
    .sectionTitle{
      text-align:center;
      font-family: var(--serif);
      font-weight: 500;
      font-style: italic;              /* pjerrtas */
      font-size: clamp(30px, 5vw, 48px);
      margin: 0 0 18px 0;
      color: rgba(34,34,34,.92);
      text-shadow: 0 10px 26px rgba(0,0,0,.08); /* brilante */
    }
    .sectionLead{
      text-align:center;
      max-width: 680px;
      margin: 0 auto 22px auto;
      font-family: var(--serif);
      font-style: italic;              /* pjerrtas */
      font-size: 18px;
      line-height: 1.7;
      color: rgba(34,34,34,.70);
    }

    /* ===== COUNTDOWN ===== */
    .countRow{
      display:grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 20px;
      width: min(680px, 100%);
      margin: 0 auto;
      text-align:center;
    }
    .countNum{
      font-family: var(--serif);
      font-weight: 500;
      font-style: italic;              /* pjerrtas */
      font-size: clamp(40px, 6vw, 56px);
      line-height: 1;
      color: rgba(34,34,34,.90);
      text-shadow: 0 10px 26px rgba(0,0,0,.08);
    }
    .countLbl{
      margin-top: 10px;
      font-size: 11px;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(34,34,34,.45);
    }
    .countDone{
      display:none;
      text-align:center;
      font-size: 14px;
      color: rgba(34,34,34,.70);
      margin-top: 10px;
      letter-spacing: .06em;
    }

    /* ===== DETAILS CARD ===== */
    .card{
      width: min(640px, 100%);
      margin: 0 auto;
      background: var(--card);
      border: 1px solid var(--cardLine);
      border-radius: 26px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cardPad{ padding: 26px 20px; }

    .rows{
      display:grid;
      gap: 14px;
    }
    .row{
      border-radius: 18px;
      border: 1px solid rgba(34,34,34,.08);
      background: rgba(255,255,255,.60);
      padding: 14px 14px;
      text-align:left;
    }
    .rowLbl{
      font-size: 11px;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(34,34,34,.45);
      margin-bottom: 8px;
    }
    .rowVal{
      font-size: 15px;
      line-height: 1.55;
      color: rgba(34,34,34,.86);
    }
    .rowVal em{
      font-family: var(--serif);
      font-style: italic;
      color: rgba(34,34,34,.78);
    }

    /* ===== MAP CARD ===== */
    .mapFrame{
      width:100%;
      height: 320px;
      border:0;
      display:block;
      background:#fff;
    }
    .btnRow{
      display:grid;
      gap: 12px;
      padding: 18px 18px 22px 18px;
      background: rgba(255,255,255,.60);
      border-top: 1px solid rgba(34,34,34,.08);
    }
    .btn{
      appearance:none;
      border:1px solid rgba(34,34,34,.16);
      background: transparent;
      color: rgba(34,34,34,.86);
      border-radius: 14px;
      padding: 14px 14px;
      font-size: 14px;
      cursor:pointer;
      text-decoration:none;
      text-align:center;
      transition: transform .12s ease, opacity .12s ease;
    }
    .btn:hover{ transform: translateY(-1px); opacity:.92; }
    .btn.primary{
      background: rgba(34,34,34,.88);
      color: #fff;
      border-color: rgba(34,34,34,.88);
    }

    .footerNote{
      text-align:center;
      font-family: var(--serif);
      font-style: italic;              /* pjerrtas */
      font-size: 15px;
      line-height: 1.65;
      color: rgba(34,34,34,.66);
      margin-top: 16px;
    }

    @media (max-width: 520px){
      .countRow{ grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 18px; }
      .mapFrame{ height: 280px; }
      .section{ padding: 48px 0; }
      .hero{ padding: 46px 0 18px 0; }
      .heroQuote{ margin-bottom: 18px; }
    }
  </style>
</head>

<body>

  <!-- WHITE FADE OVERLAY -->
  <div id="fadeWhite" class="fadeWhite" aria-hidden="true"></div>

  <!-- INTRO VIDEO -->
  <div id="intro" class="intro">
    <video
      id="introVideo"
      src="intro.mp4"
      poster="poster.jpg"
      playsinline
      preload="auto"
      muted
      controlslist="nodownload noplaybackrate noremoteplayback"
      disablepictureinpicture
    ></video>

    <div id="tapLayer" class="tapLayer" aria-label="Luaj videon">
      <div class="tapHint">Prek për të hapur ftesën</div>
    </div>
  </div>

  <!-- PAGE -->
  <div id="page" class="page">

    <div class="topNav">
      <div class="container topNavInner">
        <a class="topLink" href="#detajet">Detajet</a>
      </div>
    </div>

    <!-- HERO -->
    <section class="hero" id="top">
      <div class="container">
        <p class="heroKicker">Ftesë</p>

        <h1 class="heroTitle">Flavia &amp; Saimir</h1>
        <p class="heroSub">Në ditën e njohjes sonë, ju ftojmë të festojmë dashurinë tonë.</p>

        <p class="heroDate">10 Shtator 2026 • Ora 20:00</p>

        <div class="cakeFrame">
          <video
            id="cakeVideo"
            class="cakeVideo"
            src="cake.mp4"
            playsinline
            preload="auto"
            muted
            loop
          ></video>
        </div>

        <div class="scrollCue" id="scrollCue" aria-label="Shko poshtë">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
      </div>
    </section>

    <!-- COUNTDOWN -->
    <section class="section alt" id="countdown">
      <div class="container">
        <p class="sectionKicker">Numërim mbrapsht</p>
        <h2 class="sectionTitle">Deri te momenti ynë i paharrueshëm</h2>
        <p class="sectionLead">
          Çdo ditë na afron më shumë me mbrëmjen ku do të bashkojmë jetët tona në një “po”.
        </p>

        <div id="countRow" class="countRow">
          <div>
            <div id="cdDays" class="countNum">—</div>
            <div class="countLbl">Ditë</div>
          </div>
          <div>
            <div id="cdHours" class="countNum">—</div>
            <div class="countLbl">Orë</div>
          </div>
          <div>
            <div id="cdMins" class="countNum">—</div>
            <div class="countLbl">Minuta</div>
          </div>
          <div>
            <div id="cdSecs" class="countNum">—</div>
            <div class="countLbl">Sekonda</div>
          </div>
        </div>

        <div id="countDone" class="countDone">Sot është dita jonë! ✨</div>
      </div>
    </section>

    <!-- DETAILS + MAP -->
    <section class="section" id="detajet">
      <div class="container">
        <p class="sectionKicker">Detajet e mbrëmjes</p>
        <h2 class="sectionTitle">Me dashuri, ju presim</h2>
        <p class="sectionLead">
          Një mbrëmje e ngrohtë, me muzikë, buzëqeshje dhe njerëzit tanë të zemrës.
        </p>

        <div class="card">
          <div class="cardPad">
            <div class="rows">
              <div class="row">
                <div class="rowLbl">Data</div>
                <div class="rowVal"><em>E enjte</em>, 10 Shtator 2026</div>
              </div>

              <div class="row">
                <div class="rowLbl">Ora</div>
                <div class="rowVal">Fillimi i pritjes: <em>20:00</em></div>
              </div>

              <div class="row">
                <div class="rowLbl">Vendndodhja</div>
                <div class="rowVal">
                  <em>Kompleksi Golden</em>, Tiranë<br />
                  <a href="https://www.google.com/maps/place/Kompleksi+Golden/@41.3069139,19.5588003,17z/data=!3m1!4b1!4m6!3m5!1s0x134fd80ceafef429:0x2a0301532136c787!8m2!3d41.3069139!4d19.5613752!16s%2Fg%2F11c1q7gnfq?entry=ttu"
                     target="_blank" rel="noopener"
                     style="color:rgba(34,34,34,.75);text-decoration:underline;">
                    Hap në Google Maps
                  </a>
                </div>
              </div>
            </div>

            <div class="footerNote">
              Ju lutemi, na ktheni një përgjigje me mesazh deri më <em>20 gusht 2026</em>,
              për të konfirmuar pjesëmarrjen tuaj. Prania juaj do ta bëjë mbrëmjen edhe më të bukur.
            </div>
          </div>

          <!-- Map preview -->
          <iframe
            class="mapFrame"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            allowfullscreen
            src="https://www.google.com/maps?q=41.3069139,19.5613752&z=17&output=embed"
            title="Kompleksi Golden - Google Maps">
          </iframe>

          <div class="btnRow">
            <a class="btn" target="_blank" rel="noopener"
               href="https://www.google.com/maps/place/Kompleksi+Golden/@41.3069139,19.5588003,17z/data=!3m1!4b1!4m6!3m5!1s0x134fd80ceafef429:0x2a0301532136c787!8m2!3d41.3069139!4d19.5613752!16s%2Fg%2F11c1q7gnfq?entry=ttu">
              Hap në Maps
            </a>
            <a class="btn primary" id="addToCalendar" href="#">Shto në Kalendar</a>
          </div>
        </div>
      </div>
    </section>

  </div>

  <script>
    // ===== Intro video flow + white fade transition =====
    const intro = document.getElementById("intro");
    const introVideo = document.getElementById("introVideo");
    const tapLayer = document.getElementById("tapLayer");
    const page = document.getElementById("page");
    const cakeVideo = document.getElementById("cakeVideo");
    const fadeWhite = document.getElementById("fadeWhite");

    let transitioned = false;

    function playCakeIfPossible() {
      if (!cakeVideo) return;
      cakeVideo.muted = true;
      const p = cakeVideo.play();
      if (p && typeof p.catch === "function") p.catch(() => {});
    }

    function showMainPage() {
      if (transitioned) return;
      transitioned = true;

      fadeWhite.classList.add("show");

      setTimeout(() => {
        intro.style.display = "none";
        page.style.display = "block";
        playCakeIfPossible();

        requestAnimationFrame(() => {
          fadeWhite.classList.remove("show");
        });
      }, 500);
    }

    introVideo.controls = false;

    tapLayer.addEventListener("click", async () => {
      try {
        tapLayer.style.display = "none";
        introVideo.muted = false;
        await introVideo.play();
      } catch (e) {
        tapLayer.style.display = "grid";
      }
    });

    introVideo.addEventListener("ended", showMainPage);

    introVideo.addEventListener("click", async () => {
      if (!introVideo.paused) return;
      try {
        tapLayer.style.display = "none";
        introVideo.muted = false;
        await introVideo.play();
      } catch (e) {}
    });

    // cake: tap to play/unmute toggle
    if (cakeVideo) {
      cakeVideo.addEventListener("click", async () => {
        try {
          if (cakeVideo.paused) {
            cakeVideo.muted = false;
            await cakeVideo.play();
          } else {
            cakeVideo.muted = !cakeVideo.muted;
          }
        } catch (e) {}
      });
    }

    // smooth scroll cue
    const scrollCue = document.getElementById("scrollCue");
    if (scrollCue) {
      scrollCue.addEventListener("click", () => {
        document.getElementById("countdown")?.scrollIntoView({ behavior: "smooth" });
      });
    }
  </script>

  <script>
    // ===== Countdown (device local time) =====
    const target = new Date(2026, 8, 10, 20, 0, 0);

    const cdDays = document.getElementById("cdDays");
    const cdHours = document.getElementById("cdHours");
    const cdMins = document.getElementById("cdMins");
    const cdSecs = document.getElementById("cdSecs");
    const countRow = document.getElementById("countRow");
    const countDone = document.getElementById("countDone");

    function tick() {
      const now = new Date();
      const ms = target - now;

      if (ms <= 0) {
        if (countRow) countRow.style.display = "none";
        if (countDone) countDone.style.display = "block";
        return;
      }

      const totalSec = Math.floor(ms / 1000);
      const days = Math.floor(totalSec / (24 * 3600));
      const hours = Math.floor((totalSec % (24 * 3600)) / 3600);
      const mins = Math.floor((totalSec % 3600) / 60);
      const secs = totalSec % 60;

      cdDays.textContent = String(days);
      cdHours.textContent = String(hours).padStart(2, "0");
      cdMins.textContent = String(mins).padStart(2, "0");
      cdSecs.textContent = String(secs).padStart(2, "0");
    }

    tick();
    setInterval(tick, 1000);
  </script>

  <script>
    // ===== Add-to-Calendar (.ics) with 1 week + 1 day reminders =====
    const pad2 = (n) => String(n).padStart(2, "0");
    const toUTCICS = (d) =>
      d.getUTCFullYear() +
      pad2(d.getUTCMonth() + 1) +
      pad2(d.getUTCDate()) + "T" +
      pad2(d.getUTCHours()) +
      pad2(d.getUTCMinutes()) +
      pad2(d.getUTCSeconds()) + "Z";

    document.getElementById("addToCalendar").addEventListener("click", (e) => {
      e.preventDefault();

      // 10 Sep 2026 20:00 local time
      const startLocal = new Date(2026, 8, 10, 20, 0, 0);
      const endLocal   = new Date(2026, 8, 11, 0, 0, 0); // +4h

      const uid = `flavia-saimir-${Date.now()}@github-pages`;
      const dtstamp = toUTCICS(new Date());
      const dtstart = toUTCICS(startLocal);
      const dtend   = toUTCICS(endLocal);

      const title = "Dasma: Flavia & Saimir";
      const location = "Kompleksi Golden, Tiranë";
      const maps = "https://www.google.com/maps/place/Kompleksi+Golden/@41.3069139,19.5588003,17z";

      const description = [
        "Pritja fillon: 20:00",
        "Vendndodhja: Kompleksi Golden, Tiranë",
        "Google Maps: " + maps,
        "",
        "Na gëzon praninë tuaj. Ju lutemi konfirmoni deri më 20 gusht 2026."
      ].join("\\n");

      const ics =
`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//FlaviaSaimir//Wedding//SQ
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:${uid}
DTSTAMP:${dtstamp}
SUMMARY:${title}
DESCRIPTION:${description}
LOCATION:${location}
DTSTART:${dtstart}
DTEND:${dtend}
BEGIN:VALARM
TRIGGER:-P7D
ACTION:DISPLAY
DESCRIPTION:Kujtesë: Dasma Flavia & Saimir (1 javë para)
END:VALARM
BEGIN:VALARM
TRIGGER:-P1D
ACTION:DISPLAY
DESCRIPTION:Kujtesë: Dasma Flavia & Saimir (1 ditë para)
END:VALARM
END:VEVENT
END:VCALENDAR`;

      const blob = new Blob([ics], { type: "text/calendar;charset=utf-8" });
      const url = URL.createObjectURL(blob);

      const a = document.createElement("a");
      a.href = url;
      a.download = "Flavia-Saimir-Dasma.ics";
      document.body.appendChild(a);
      a.click();
      a.remove();

      setTimeout(() => URL.revokeObjectURL(url), 1500);
    });
  </script>

</body>
</html>
